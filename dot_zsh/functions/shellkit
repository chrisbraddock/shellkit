#!/usr/bin/env zsh
# shellkit - manage shellkit configuration
# Usage: shellkit <command>

local cmd="${1:-help}"

case "$cmd" in
    update)
        echo "==> Updating shellkit..."
        chezmoi update && chezmoi apply
        echo "==> Done. Restart your shell or run 'reload' to apply changes."
        ;;
    edit)
        chezmoi edit --apply
        ;;
    diff)
        chezmoi diff
        ;;
    status)
        chezmoi status
        ;;
    cd)
        cd "$(chezmoi source-path)"
        ;;
    help|--help|-h|*)
        local bold='\033[1m' dim='\033[2m' cyan='\033[36m' green='\033[32m' yellow='\033[33m' reset='\033[0m'
        echo ""
        echo "${bold}  üêö shellkit${reset} ${dim}‚Äî manage your shell configuration${reset}"
        echo ""
        echo "${yellow}  Getting the latest:${reset}"
        echo "    ${green}shellkit update${reset}    Pull latest changes and apply"
        echo ""
        echo "${yellow}  Day-to-day:${reset}"
        echo "    ${green}shellkit diff${reset}      Preview pending changes"
        echo "    ${green}shellkit status${reset}    Show changed files"
        echo "    ${green}shellkit edit${reset}      Edit config files (applies on save)"
        echo "    ${green}shellkit cd${reset}        Jump to shellkit source directory"
        echo ""
        ;;
esac
